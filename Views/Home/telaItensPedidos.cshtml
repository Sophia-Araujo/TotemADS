@{
    Layout = "_LayoutItensPedidos";
    ViewBag.Title = "Itens do Pedido";
}

<!-- Botão de cupom -->
<button id="btnCupom" class="btn-cupom">
    <span>
        <i class="fas fa-ticket"></i> Tem um cupom
    </span>
</button>
<div class="titulo">
    <h1>Lanches</h1>
</div>

<!-- Lista de lanches dinâmica -->
<div id="lista-itens-pedido">
    <!-- Os itens serão carregados dinamicamente aqui -->
    <div class="loading" id="loading-itens" style="text-align: center; padding: 20px;">
        <p>Carregando itens do pedido...</p>
    </div>
    
    <div class="empty-cart" id="carrinho-vazio" style="display: none; text-align: center; padding: 40px;">
        <p>Nenhum item no carrinho</p>
        <button onclick="window.location.href='/Pedidos/TelaPedidos'" class="btn-voltar-pedidos">
            Voltar aos Pedidos
        </button>
    </div>
</div>

<!-- Resumo dos pedidos -->
<div class="resumo" id="resumo-pedido">
    <div class="total-lista" id="total-lista">
        <!-- Será preenchido dinamicamente -->
    </div>

    <div class="acoes">
        <button class="botao-cancelar" onclick="cancelarPedido()">Voltar</button>
        <button class="botao-pagar" id="btn-finalizar-pedido" onclick="finalizarPedido()">Finalizar Pedido</button>
    </div>
</div>

<!-- Modal de Cupom -->
<div id="modalOverlay" class="modal-overlay">
    <div class="popup">
        <button class="close-btn" id="closeModal">X</button>
        <h2>DIGITE SEU CUPOM</h2>
        <input type="text" id="input" readonly />
        <small>*sujeito a invalidez ou expiração</small>
        <button class="confirmar">Confirmar</button>
        <div class="keyboard-container">
            <div class="keyboard-row" id="row1"></div>
            <div class="keyboard-row" id="row2"></div>
            <div class="keyboard-row middle-offset" id="row3"></div>
            <div class="keyboard-row" id="row4"></div>
            <div class="keyboard-row" id="row5"></div>
        </div>
    </div>
</div>

@section Scripts {
    <link rel="stylesheet" href="~/css/telaItensPedidos.css" asp-append-version="true" />
    <script src="~/js/cupom.js" asp-append-version="true"></script>
    <script src="~/js/telaItensPedidos.js" asp-append-version="true"></script>
}